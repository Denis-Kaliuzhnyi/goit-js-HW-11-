{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const fetchImages = imageName => {\n  const params = new URLSearchParams({\n    key: '43257853-194068c59ee252fa44b7d008e',\n    q: imageName,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${params}`, {\n    header: {\n      'Access-Control-Allow-Origin': 'https://pixabay.com',\n    },\n  })\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      return res.json();\n    })\n    .then(data => {\n      return data.hits;\n    })\n    .catch(error => console.log(error));\n};\n\nexport { fetchImages };","const initalRender = () => {\n  const form = document.createElement('form');\n  form.classList.add('search-form');\n  const input = document.createElement('input');\n  input.type = 'text';\n  input.classList.add('search-input');\n  input.placeholder = 'Search images...';\n  const button = document.createElement('button');\n  button.type = 'submit';\n  button.classList.add('search-button');\n  button.textContent = 'Search';\n  const list = document.createElement('ul');\n  list.classList.add('gallery-list');\n  form.append(input, button);\n  document.body.append(form, list);\n};\n\nconst renderGalleryItem = image => {\n  const galleryItem = document.createElement('li');\n  galleryItem.classList.add('gallery-item');\n\n  const link = document.createElement('a');\n  link.classList.add('gallery-link');\n  link.href = image.largeImageURL;\n\n  const imageElement = document.createElement('img');\n  imageElement.classList.add('gallery-image');\n  imageElement.src = image.webformatURL;\n  imageElement.alt = image.tags;\n\n  const description = document.createElement('div');\n  description.classList.add('image-description');\n  description.innerHTML = `\n    <p>Likes ${image.likes}</p>\n    <p>Views ${image.views}</p>\n    <p>Comments ${image.comments}</p>\n    <p>Downloads ${image.downloads}</p>\n  `;\n\n  link.appendChild(imageElement);\n  galleryItem.append(link, description);\n\n  return galleryItem;\n};\n\nconst renderGallery = imagesGallery => {\n  const galleryList = document.querySelector('.gallery-list');\n  galleryList.innerHTML = '';\n\n  const galleryItems = imagesGallery.map(renderGalleryItem);\n  galleryItems.forEach(item => {\n    galleryList.appendChild(item);\n  });\n};\n\nexport { renderGalleryItem };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderGalleryItem } from './js/render-functions.js';\n\n\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('.search-input');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', async (event) => {\n  event.preventDefault();\n\n  const searchQuery = input.value.trim();\n  if (searchQuery === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  loader.classList.add('loading');\n  gallery.innerHTML = '';\n\n  try {\n    const images = await fetchImages(searchQuery);\n    if (images.length === 0) {\n      iziToast.warning({\n        title: 'Warning',\n        message: '\"Sorry, there are no images matching your search query. Please try again!\"',\n        position: 'topRight',\n      });\n    } else {\n      const galleryItems = images.map(renderGalleryItem);\n      gallery.append(...galleryItems);\n\n      const lightbox = new SimpleLightbox('.gallery a');\n      lightbox.refresh();\n    }\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to fetch images. Please try again later',\n      position: 'topRight',\n    });\n  } finally {\n    loader.classList.remove('loading');\n  }\n});\n"],"names":["fetchImages","imageName","params","res","data","error","renderGalleryItem","image","galleryItem","link","imageElement","description","form","input","gallery","loader","event","searchQuery","iziToast","images","galleryItems","SimpleLightbox"],"mappings":"wvBAAA,MAAMA,EAAcC,GAAa,CAC/B,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAM,GAAI,CACjD,OAAQ,CACN,8BAA+B,qBAChC,CACL,CAAG,EACE,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKC,GACGA,EAAK,IACb,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,ECPMC,EAAoBC,GAAS,CACjC,MAAMC,EAAc,SAAS,cAAc,IAAI,EAC/CA,EAAY,UAAU,IAAI,cAAc,EAExC,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,UAAU,IAAI,cAAc,EACjCA,EAAK,KAAOF,EAAM,cAElB,MAAMG,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,UAAU,IAAI,eAAe,EAC1CA,EAAa,IAAMH,EAAM,aACzBG,EAAa,IAAMH,EAAM,KAEzB,MAAMI,EAAc,SAAS,cAAc,KAAK,EAChD,OAAAA,EAAY,UAAU,IAAI,mBAAmB,EAC7CA,EAAY,UAAY;AAAA,eACXJ,EAAM,KAAK;AAAA,eACXA,EAAM,KAAK;AAAA,kBACRA,EAAM,QAAQ;AAAA,mBACbA,EAAM,SAAS;AAAA,IAGhCE,EAAK,YAAYC,CAAY,EAC7BF,EAAY,OAAOC,EAAME,CAAW,EAE7BH,CACT,ECnCMI,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CH,EAAK,iBAAiB,SAAU,MAAOI,GAAU,CAC/CA,EAAM,eAAc,EAEpB,MAAMC,EAAcJ,EAAM,MAAM,KAAI,EACpC,GAAII,IAAgB,GAAI,CACtBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDH,EAAO,UAAU,IAAI,SAAS,EAC9BD,EAAQ,UAAY,GAEpB,GAAI,CACF,MAAMK,EAAS,MAAMnB,EAAYiB,CAAW,EAC5C,GAAIE,EAAO,SAAW,EACpBD,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,6EACT,SAAU,UAClB,CAAO,MACI,CACL,MAAME,EAAeD,EAAO,IAAIb,CAAiB,EACjDQ,EAAQ,OAAO,GAAGM,CAAY,EAEb,IAAIC,EAAe,YAAY,EACvC,QAAO,CACjB,CACF,OAAQhB,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7Ca,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRH,EAAO,UAAU,OAAO,SAAS,CAClC,CACH,CAAC"}