{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export { fetchImages };\n\nconst fetchImages = imageName => {\n  const params = new URLSearchParams({\n    key: '/',\n    q: imageName,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${params}`, {\n    header: {\n      'Access-Control-Allow-Origin': 'https://pixabay.com',\n    },\n  })\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      return res.json();\n    })\n    .then(data => {\n      return data.hits;\n    })\n    .catch(error => console.log(error));\n};\n","const renderGalleryItem = (image) => {\n  const galleryItem = document.createElement('div');\n  galleryItem.classList.add('gallery-item');\n\n  const imageElement = document.createElement('img');\n  imageElement.classList.add('gallery-image');\n  imageElement.src = image.webformatURL;\n  imageElement.alt = image.tags;\n\n  galleryItem.appendChild(imageElement);\n  return galleryItem;\n};\n\nexport { renderGalleryItem };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderGalleryItem } from './js/render-functions.js';\n\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('.search-input');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', async (event) => {\n  event.preventDefault();\n\n  const searchQuery = input.value.trim();\n  if (searchQuery === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  loader.classList.add('loading');\n  gallery.innerHTML = '';\n\n  try {\n    const images = await fetchImages(searchQuery);\n    if (images.length === 0) {\n      iziToast.warning({\n        title: 'Warning',\n        message: 'No images found. Please try again with a different search query',\n        position: 'topRight',\n      });\n    } else {\n      const galleryItems = images.map(renderGalleryItem);\n      gallery.append(...galleryItems);\n\n      const lightbox = new SimpleLightbox('.gallery a');\n      lightbox.refresh();\n    }\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to fetch images. Please try again later',\n      position: 'topRight',\n    });\n  } finally {\n    loader.classList.remove('loading');\n  }\n});\n"],"names":["fetchImages","imageName","params","res","data","error","renderGalleryItem","image","galleryItem","imageElement","form","input","gallery","loader","event","searchQuery","iziToast","images","galleryItems","SimpleLightbox"],"mappings":"6vBAEA,MAAMA,EAAcC,GAAa,CAC/B,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,IACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAM,GAAI,CACjD,OAAQ,CACN,8BAA+B,qBAChC,CACL,CAAG,EACE,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKC,GACGA,EAAK,IACb,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,EC1BMC,EAAqBC,GAAU,CACnC,MAAMC,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,UAAU,IAAI,cAAc,EAExC,MAAMC,EAAe,SAAS,cAAc,KAAK,EACjD,OAAAA,EAAa,UAAU,IAAI,eAAe,EAC1CA,EAAa,IAAMF,EAAM,aACzBE,EAAa,IAAMF,EAAM,KAEzBC,EAAY,YAAYC,CAAY,EAC7BD,CACT,ECJME,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CH,EAAK,iBAAiB,SAAU,MAAOI,GAAU,CAC/CA,EAAM,eAAc,EAEpB,MAAMC,EAAcJ,EAAM,MAAM,KAAI,EACpC,GAAII,IAAgB,GAAI,CACtBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDH,EAAO,UAAU,IAAI,SAAS,EAC9BD,EAAQ,UAAY,GAEpB,GAAI,CACF,MAAMK,EAAS,MAAMjB,EAAYe,CAAW,EAC5C,GAAIE,EAAO,SAAW,EACpBD,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,kEACT,SAAU,UAClB,CAAO,MACI,CACL,MAAME,EAAeD,EAAO,IAAIX,CAAiB,EACjDM,EAAQ,OAAO,GAAGM,CAAY,EAEb,IAAIC,EAAe,YAAY,EACvC,QAAO,CACjB,CACF,OAAQd,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CW,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRH,EAAO,UAAU,OAAO,SAAS,CAClC,CACH,CAAC"}